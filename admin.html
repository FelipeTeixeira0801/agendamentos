<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>AgendApp — Área do ADM</title>
<link rel="icon" href="/agendamentos/agendapp.png?v=154" />
<style>
  :root{ --bg:#0b0b0e; --surface:#131318; --surface-2:#1a1a21;
         --border:#26262e; --text:#f5f5f7; --muted:#a8a8b3; --accent:#2dd4bf;
         --ok:#22c55e; --danger:#f87171; }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{margin:0;background:var(--bg);color:var(--text);font-family:system-ui, Arial, sans-serif}

  header{position:sticky;top:0;z-index:10;background:var(--surface);
    border-bottom:1px solid var(--border);padding:10px 14px;display:flex;justify-content:space-between;align-items:center}
  .brand{display:flex;align-items:center;gap:12px}
  .brand img{width:64px;height:64px;object-fit:cover;border-radius:12px;filter:drop-shadow(0 0 10px rgba(45,212,191,.35))}
  .brand .name{font-weight:900;letter-spacing:.35px;font-size:26px;line-height:1}
  .linkCliente{border:1px solid var(--border);padding:8px 12px;border-radius:10px}
  .linkCliente:hover{border-color:var(--accent)}

  .wrap{min-height:calc(100vh - 92px);padding:18px}
  .container{max-width:1040px;margin:0 auto;display:grid;gap:14px}
  .card{background:var(--surface);border:1px solid var(--border);border-radius:16px;padding:14px}
  .title{margin:0 0 4px;font-size:22px;font-weight:800}
  .sub{margin:0 0 14px;color:var(--muted);font-size:14px}

  .row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
  .btn{padding:10px 14px;border-radius:12px;border:1px solid var(--border);background:var(--surface-2);color:var(--text);cursor:pointer;font-weight:700}
  .btn:hover{border-color:var(--accent)}
  .btnPrimary{border-color:var(--accent);box-shadow:inset 0 0 0 1px rgba(45,212,191,.35)}
  input{padding:10px 12px;border-radius:12px;border:1px solid var(--border);background:#0f0f14;color:var(--text)}
  .feedback{margin-top:8px;font-size:14px}
  .ok{color:var(--ok)} .erro{color:var(--danger)} .muted{color:#a8a8b3}
</style>
</head>
<body>
  <header>
    <div class="brand">
      <img src="/agendamentos/agendapp.png?v=154" alt="Logo AgendApp" />
      <span class="name">AgendApp</span>
    </div>
    <a class="linkCliente" href="./?v=154">Área do Cliente</a>
  </header>

  <main class="wrap">
    <div class="container">

      <section class="card" id="loginCard">
        <h1 class="title">Área do ADM</h1>
        <p class="sub">Acesso restrito</p>
        <form id="formLogin" class="grid" novalidate>
          <label class="grid">
            <span class="muted">E-mail</span>
            <input id="email" name="email" type="email" autocomplete="username" required />
          </label>
          <label class="grid">
            <span class="muted">Senha</span>
            <input id="senha" name="senha" type="password" autocomplete="current-password" required />
          </label>
          <div class="row">
            <button type="submit" class="btn btnPrimary" id="btnEntrar">Entrar</button>
            <button type="button" class="btn" id="btnMostrar">Mostrar senha</button>
            <button type="button" class="btn" id="btnReset">Esqueci a senha</button>
          </div>
        </form>
        <p id="msg" class="feedback"></p>
        <p id="bootWarn" class="feedback erro" style="display:none">Falha ao carregar os scripts. Recarregue a página (Ctrl+F5). Se persistir, confira o caminho de <code>admin.js</code> e <code>firebase-init.js</code>.</p>
        <noscript><p class="feedback erro">O JavaScript está desativado.</p></noscript>
      </section>

      <section class="card" id="panel" style="display:none">
        <div class="row" style="justify-content:space-between;align-items:center">
          <div class="row" style="gap:8px">
            <button class="btn" id="prevDay">‹</button>
            <input type="date" id="admDate" />
            <button class="btn" id="nextDay">›</button>
            <select id="statusFilter">
              <option value="all">Todos</option>
              <option value="pending">Pendentes</option>
              <option value="confirmed">Confirmados</option>
              <option value="canceled">Cancelados</option>
            </select>
            <button class="btn" id="btnHoje">Hoje</button>
          </div>
          <div class="row">
            <span class="muted" id="who"></span>
            <button type="button" class="btn" id="btnSair">Sair</button>
          </div>
        </div>
        <div class="list" id="list" style="margin-top:12px"></div>
        <p id="listaMsg" class="feedback muted"></p>
      </section>
    </div>
  </main>

  <script>
    // se o módulo não carregar, mostramos um aviso de boot
    window.addEventListener('error', function(ev){
      const el = document.getElementById('bootWarn');
      if (el) el.style.display = 'block';
    }, { once:true });
  </script>
  <script type="module" src="./admin.js?v=154"></script>
</body>
</html>
