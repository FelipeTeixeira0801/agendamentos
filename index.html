<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Agendamentos — Cliente</title>
<style>
  body{font-family:system-ui,Arial,sans-serif;max-width:900px;margin:24px auto;padding:0 16px}
  header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}
  nav a{margin-left:12px}
  .grid{display:grid;grid-template-columns:1fr 1fr;gap:16px}
  ul#slots{list-style:none;padding:0;margin:0;border:1px solid #ddd;border-radius:8px}
  ul#slots li{padding:10px 12px;border-bottom:1px solid #eee;cursor:pointer}
  ul#slots li:last-child{border-bottom:none}
  ul#slots li.ocupado{opacity:.5;cursor:not-allowed}
  .card{border:1px solid #ddd;border-radius:12px;padding:16px}
  .ok{color:#0a7f2e}
  .erro{color:#b00020}
  dialog{border:none;border-radius:12px;padding:0;max-width:420px;width:90%}
  dialog .box{padding:16px}
  dialog form{display:grid;gap:10px}
  button{padding:10px 14px;border-radius:10px;border:1px solid #ddd;background:#fafafa;cursor:pointer}
  button.primary{background:#111;color:#fff;border-color:#111}
</style>
</head>
<body>
  <header>
    <h1>Agendar horário</h1>
    <nav>
      <a href="./admin.html">Área do ADM</a>
    </nav>
  </header>

  <div class="grid">
    <div class="card">
      <h3>Escolha o dia</h3>
      <input type="date" id="data" />
      <p id="info"></p>
    </div>
    <div class="card">
      <h3>Horários</h3>
      <ul id="slots"></ul>
    </div>
  </div>

  <dialog id="dlg">
    <div class="box">
      <h3 id="dlgTitulo">Confirmar agendamento</h3>
      <form id="formAgendar">
        <input type="text" name="nome" placeholder="Seu nome" required />
        <input type="tel" name="telefone" placeholder="Seu telefone (opcional)" />
        <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:12px">
          <button type="button" id="btnCancelar">Fechar</button>
          <button class="primary" type="submit">Confirmar</button>
        </div>
      </form>
      <p id="msg" style="margin-top:8px"></p>
    </div>
  </dialog>

  <script type="module" src="./firebase-init.js"></script>
  <script type="module" src="./client.js"></script>
</body>
</html>
